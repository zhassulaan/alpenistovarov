{"ast":null,"code":"var _jsxFileName = \"/Users/zhassik/Downloads/yaq/front/src/components/AddButton.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { CartState } from \"../context/Context\";\nimport { getBasket, addToBasket } from \"../redux/actions/basket\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddButton(_ref) {\n  _s();\n  let {\n    product,\n    color,\n    size,\n    bool,\n    setActive\n  } = _ref;\n  // const {\n  //   state: { cart },\n  //   dispatch,\n  // } = CartState();\n  // const state = useSelector(({ basket }) => {\n  //   return {\n  //     basket: basket.items,\n  //   };\n  // });\n  const dispatch = useDispatch();\n  if (product) {\n    product.color = color;\n    product.size = size;\n  }\n  // if (product.inSale) {\n  //   let salePrice = (product?.price / 100) * (100 - Number(product?.inSale));\n  //   product.price = salePrice;\n  // }\n\n  const addtoCart = () => {\n    dispatch(addToBasket(product));\n    if (setActive) {\n      setActive(false);\n    }\n  };\n  useEffect(() => {\n    dispatch(getBasket());\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button\",\n      onClick: () => addtoCart(),\n      disabled: bool,\n      children: \"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(AddButton, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n  return [useDispatch];\n});\n_c = AddButton;\nconst Wrapper = styled.nav`\n  .button {\n    width: 17.5rem;\n    height: 3.75rem;\n    font-size: 22px;\n    font-weight: 500;\n    color: var(--clr-white);\n    background: var(--clr-primary-1);\n    border: none;\n  }\n`;\n_c2 = Wrapper;\nexport default AddButton;\nvar _c, _c2;\n$RefreshReg$(_c, \"AddButton\");\n$RefreshReg$(_c2, \"Wrapper\");","map":{"version":3,"names":["React","useEffect","styled","CartState","getBasket","addToBasket","useDispatch","useSelector","AddButton","product","color","size","bool","setActive","dispatch","addtoCart","Wrapper","nav"],"sources":["/Users/zhassik/Downloads/yaq/front/src/components/AddButton.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { CartState } from \"../context/Context\";\nimport { getBasket, addToBasket } from \"../redux/actions/basket\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nfunction AddButton({ product, color, size, bool, setActive }) {\n  // const {\n  //   state: { cart },\n  //   dispatch,\n  // } = CartState();\n  // const state = useSelector(({ basket }) => {\n  //   return {\n  //     basket: basket.items,\n  //   };\n  // });\n  const dispatch = useDispatch();\n\n  if (product) {\n    product.color = color;\n    product.size = size;\n  }\n  // if (product.inSale) {\n  //   let salePrice = (product?.price / 100) * (100 - Number(product?.inSale));\n  //   product.price = salePrice;\n  // }\n\n  const addtoCart = () => {\n    dispatch(addToBasket(product));\n    if (setActive) {\n      setActive(false);\n    }\n  };\n\n  useEffect(() => {\n    dispatch(getBasket());\n  }, []);\n\n  return (\n    <Wrapper>\n      {/* <Link> */}\n      <button className=\"button\" onClick={() => addtoCart()} disabled={bool}>\n        В корзину\n      </button>\n      {/* </Link> */}\n    </Wrapper>\n  );\n}\n\nconst Wrapper = styled.nav`\n  .button {\n    width: 17.5rem;\n    height: 3.75rem;\n    font-size: 22px;\n    font-weight: 500;\n    color: var(--clr-white);\n    background: var(--clr-primary-1);\n    border: none;\n  }\n`;\n\nexport default AddButton;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,SAAS,EAAEC,WAAW,QAAQ,yBAAyB;AAChE,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAAC;AAEvD,SAASC,SAAS,OAA4C;EAAA;EAAA,IAA3C;IAAEC,OAAO;IAAEC,KAAK;IAAEC,IAAI;IAAEC,IAAI;IAAEC;EAAU,CAAC;EAC1D;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAMC,QAAQ,GAAGR,WAAW,EAAE;EAE9B,IAAIG,OAAO,EAAE;IACXA,OAAO,CAACC,KAAK,GAAGA,KAAK;IACrBD,OAAO,CAACE,IAAI,GAAGA,IAAI;EACrB;EACA;EACA;EACA;EACA;;EAEA,MAAMI,SAAS,GAAG,MAAM;IACtBD,QAAQ,CAACT,WAAW,CAACI,OAAO,CAAC,CAAC;IAC9B,IAAII,SAAS,EAAE;MACbA,SAAS,CAAC,KAAK,CAAC;IAClB;EACF,CAAC;EAEDZ,SAAS,CAAC,MAAM;IACda,QAAQ,CAACV,SAAS,EAAE,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE,QAAC,OAAO;IAAA,uBAEN;MAAQ,SAAS,EAAC,QAAQ;MAAC,OAAO,EAAE,MAAMW,SAAS,EAAG;MAAC,QAAQ,EAAEH,IAAK;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAE7D;IAAA;IAAA;IAAA;EAAA,QAED;AAEd;AAAC,GAzCQJ,SAAS;EAAA,QAUCF,WAAW;AAAA;AAAA,KAVrBE,SAAS;AA2ClB,MAAMQ,OAAO,GAAGd,MAAM,CAACe,GAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MAVID,OAAO;AAYb,eAAeR,SAAS;AAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}